(function(t){function e(e){for(var a,o,c=e[0],s=e[1],u=e[2],f=0,m=[];f<c.length;f++)o=c[f],r[o]&&m.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"187a":function(t,e,n){"use strict";var a=n("d2f0"),r=n.n(a);r.a},"1c3c":function(t,e,n){},"1d4c":function(t,e,n){"use strict";var a=n("6d2d"),r=n.n(a);r.a},"480c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Oops!")]),n("h6",[t._v("The transaction failed. Please try again in 3 minutes")]),n("router-link",{attrs:{to:{name:"payment"}}},[t._v("Go back")])],1)},r=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("transition",{attrs:{name:"fade"}},[n("Notification")],1),n("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav",attrs:{id:"nav"}},[n("router-link",{staticClass:"brand",attrs:{to:{name:"home"}}},[t._v(" KLog ")]),n("nav",[n("router-link",{attrs:{to:{name:"bvn"}}},[t._v(" BVN Checker ")]),t._v(" |\n    "),n("router-link",{attrs:{to:{name:"payment"}}},[t._v(" Pay for ride ")])],1)],1)},c=[],s={},u=s,l=(n("b480"),n("2877")),f=Object(l["a"])(u,o,c,!1,null,"3d419a05",null),m=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-container"},t._l(t.notifications,function(t){return n("NotificationBar",{key:t.id,attrs:{notification:t}})}),1)},v=[],d=n("cebc"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-bar",class:t.notificationTypeClass},[n("p",[t._v(t._s(t.notification.message))])])},b=[],_=n("2f62"),y={props:{notification:{type:Object,required:!0}},data:function(){return{timeout:null}},mounted:function(){var t=this;this.timeout=setTimeout(function(){return t.remove(t.notification)},5e3)},beforeDestroy:function(){clearTimeout(this.timeout)},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(_["b"])("notification",["remove"])},g=y,k=(n("1d4c"),Object(l["a"])(g,h,b,!1,null,"56a4a404",null)),w=k.exports,E={components:{NotificationBar:w},computed:Object(d["a"])({},Object(_["c"])("notification",["notifications"]))},C=E,N=(n("187a"),Object(l["a"])(C,p,v,!1,null,"eb36bb56",null)),j=N.exports,x={components:{NavBar:m,Notification:j}},O=x,B=Object(l["a"])(O,r,i,!1,null,null,null),P=B.exports,S=n("8c4f"),$=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h4",[t._v(" Hi there.. ")]),n("h6",[t._v("\n        Make quick trips anywhere in Lagos with our app! We give top notch service with our AC motor bikes. Book a ride with us!\n    ")]),n("h6",[t._v(" App built with vue.. because i noticed Rave loves vue, and i do too! ;)")]),n("p",{staticClass:"bottom"},[t._v("  powered by: "),n("a",{staticClass:"flutter",attrs:{href:"https://flutterwave.com",target:"_blank"}},[t._v(" Flutterwave")])])])}],L={name:"home"},T=L,R=Object(l["a"])(T,$,V,!1,null,null,null),A=R.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v(" WE'VE ARRIVED! ")]),n("h5",[t._v(" We do hope you enjoyed the ride! Now here's your route summary and bill:")]),t._m(0),n("div",[n("p",[n("i",{staticClass:"fa fa-ticket-alt space"}),t._v(" Invoice ID: "+t._s(t.myRef))]),t._m(1),t._m(2),t._m(3),t._m(4)]),n("div",{staticClass:"btn-wrapper"},[n("button",{staticClass:"button -fill-gradient",attrs:{type:"button"},on:{click:t.payWithRave}},[t._v("Pay for Ride")])]),n("br"),n("br"),n("i",{staticStyle:{color:"#ccc"}},[t._v(" This is the customer app page. When He/She clicks on \"pay for ride button', and makes payment, the Payment will be split as defined by KEM Logistics their drivers")]),n("br")])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",{staticClass:"fa fa-user-tag space"}),t._v(" Your Rider: "),n("i",[t._v("Lola Adeogun ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",{staticClass:"fa fa-route space"}),t._v(" 8 Providence Street, Lekki - 10 Greenville estate, Ajah")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",{staticClass:"fa fa-clock space"}),t._v(" Duration: 30mins")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",{staticClass:"fa fa-motorcycle space"}),t._v(" Distance: 24km ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",{staticClass:"fa fa-money-bill-alt space"}),t._v(" Amount: N1500")])}],M={name:"Payment",data:function(){return{ride_summary:{},apiPublickey:"FLWPUBK-8c95ebea5cae616a1504fc0ba4b92ba4-X",myRef:this.refGenerator()}},methods:{payWithRave:function(){var t=getpaidSetup({PBFPubKey:this.apiPublickey,customer_email:"me@example.com",amount:1500,currency:"NGN",customer_phone:"07066425471",customer_firstname:"Nnamdi",customer_lastname:"Umeh",txref:this.myRef,subaccounts:[{id:"RS_92DF547567BF7B558ACE8174A91662A2",transaction_charge_type:"percentage",transaction_charge:.1}],meta:[{metaname:"BikeID",metavalue:"KL151"}],onclose:function(){},callback:function(e){"00"===e.tx.chargeResponseCode||"0"===e.tx.chargeResponseCode?ct.push({name:"payment-ok",params:{summary:e}}):ct.push({name:"payment-failed",params:{summary:e}}),t.close()}})},refGenerator:function(){for(var t="",e="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjklmnpqrstuvwxyz123456789",n=0;n<10;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}}},K=M,F=Object(l["a"])(K,D,W,!1,null,"04e8fbca",null),I=F.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v(" BVN Checker ")]),n("h6",[t._v(" We want you to have a seamless payment experience. So here's a BVN checker to ensure nothing goes wrong in the future")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.bvnProcessor(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.bvn,expression:"bvn",modifiers:{number:!0}}],attrs:{type:"number",required:""},domProps:{value:t.bvn},on:{input:function(e){e.target.composing||(t.bvn=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._m(0)])])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-wrapper"},[n("button",{staticClass:"button -fill-gradient"},[t._v(" Verify my BVN ")])])}],G=(n("6b54"),n("323e")),q=n.n(G),J={name:"BvnChecker",data:function(){return{bvn:null}},methods:Object(d["a"])({},Object(_["b"])(["verifyBVN"]),{bvnProcessor:function(){var t=this;this.verifyInput(this.bvn)?(q.a.start(),this.verifyBVN(this.bvn).then(function(){t.bvn=null,q.a.done()}).catch(function(){t.bvn=null,q.a.done()})):this.$store.dispatch("notification/add",{type:"error",message:"Invalid BVN. Kindly check your input"})},verifyInput:function(t){return t>=0&&11===t.toString().length}})},Y=J,X=Object(l["a"])(Y,H,U,!1,null,"067e636e",null),z=X.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("h6",[t._v("A receipt has also been sent to your email. We hope to see you again.")]),n("br"),n("br"),n("i",{staticStyle:{color:"#ccc"}},[t._v(" Here's how the payment is split between the driver and KEM Logistics")]),n("br"),n("br"),n("div",{staticClass:"summary"},[n("h6",[t._v("Amount paid: N"+t._s(t.summary.tx.amount))]),n("h6",[t._v(" Rave Fees: N"+t._s(t.summary.tx.appfee)+" @ 1.4% ")]),n("h6",[t._v("KLog share: N"+t._s(t.kLog)+" @ 10% ")]),n("h6",[t._v("Driver(Mighty Joe) share: N"+t._s(t.driver)+" @ 90% ")])])])},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[t._v("Thanks for choosing us! "),n("i",{staticClass:"fa fa-hand-peace"})])}],tt={props:{summary:{type:Object,required:!0}},data:function(){return{driver:null,kLog:null}},created:function(){this.calculateSplitPayment()},methods:{calculateSplitPayment:function(){this.kLog=.1*this.summary.tx.amount,this.driver=this.summary.tx.amount-(this.summary.tx.appfee+this.kLog)}}},et=tt,nt=Object(l["a"])(et,Q,Z,!1,null,null,null),at=nt.exports,rt=n("69f4"),it=n("b2ec");a["a"].use(S["a"]);var ot=new S["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:A},{path:"/bvn-checker",name:"bvn",component:z},{path:"/split-payment",name:"payment",component:I},{path:"/payment-ok",name:"payment-ok",component:at,props:!0},{path:"/payment-failed",name:"payment-failed",component:rt["default"],props:!0},{path:"*",name:"error404",component:it["default"]}]});ot.beforeEach(function(t,e,n){q.a.start(),n()}),ot.afterEach(function(){return q.a.done()});var ct=ot,st=n("bc3a"),ut=n.n(st),lt=ut.a.create({baseURL:"https://ravesandboxapi.flutterwave.com/v2/kyc/bvn",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),ft={verifyBVN:function(t,e){return lt.get("/"+t+"?seckey="+e)},getPaymentAPI:function(){}},mt={notifications:[]},pt=1,vt={PUSH:function(t,e){t.notifications.push(Object(d["a"])({},e,{id:pt++}))},DELETE:function(t,e){t.notifications=t.notifications.filter(function(t){return t.id!==e.id})}},dt={add:function(t,e){var n=t.commit;n("PUSH",e)},remove:function(t,e){var n=t.commit;n("DELETE",e)}},ht={namespaced:!0,state:mt,mutations:vt,actions:dt};a["a"].use(_["a"]);var bt=new _["a"].Store({modules:{notification:ht},state:{user:{id:"abc123",email:"hr@flutterwave.com",country:"Nigeria"},secret:"FLWSECK-e6db11d1f8a6208de8cb2f94e293450e-X",bvn:{}},mutations:{SET_BVN:function(t){return function(e){return t.bvn=e}}},actions:{verifyBVN:function(t,e){var n=t.state,a=t.commit,r=t.dispatch;return ft.verifyBVN(e,n.secret).then(function(t){var e=t.data,n={type:"success",message:"Yeee Haw!! Your BVN has been Validated!!"};a("SET_BVN",e),r("notification/add",n)}).catch(function(t){var e={type:"error",message:"Ooops!! We couldn't verify your BVN"};throw r("notification/add",e),t})}}});n("a5d8"),n("a347");a["a"].config.productionTip=!1,new a["a"]({router:ct,store:bt,render:function(t){return t(P)}}).$mount("#app")},"5d47":function(t,e,n){"use strict";var a=n("e3e2"),r=n.n(a);e["default"]=r.a},"69f4":function(t,e,n){"use strict";var a=n("480c"),r=n("ce02"),i=n("2877"),o=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},"6d2d":function(t,e,n){},a347:function(t,e,n){},a51b:function(t,e){},b2ec:function(t,e,n){"use strict";var a=n("e471"),r=n("5d47"),i=n("2877"),o=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},b480:function(t,e,n){"use strict";var a=n("1c3c"),r=n.n(a);r.a},ce02:function(t,e,n){"use strict";var a=n("a51b"),r=n.n(a);e["default"]=r.a},d2f0:function(t,e,n){},e3e2:function(t,e){},e471:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Oops!")]),n("h3",[t._v("The page you're looking for is not here.")]),n("router-link",{attrs:{to:{name:"home"}}},[t._v("Back to the home page")])],1)},r=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})}});
//# sourceMappingURL=app.6d4caef5.js.map